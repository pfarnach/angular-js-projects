{% extends "base.html" %}

{% block title %}
	All Photos
{% endblock title %}

{% block body %}

<!-- Loops through photos and displays them and their info in rows of three -->
<h1><strong>All Photos</strong></h1>
<div ng-controller="PhotoDisplayController">
<div class="col-md-12" id="photo-displayer">
	<span ng-repeat="gettingParentIndex in photos">
	<div class="row" ng-if="$index<photos.length/3+1">
			<div class="col-md-4 photo-container" ng-if="$index>=3*$parent.$index && $index <= 3*($parent.$index+1)-1" ng-repeat="photo in photos | filter :{name:query}">
				<div class="panel panel-primary">
				  <div class="panel-heading">
				    <h3 class="panel-title">{[{ photo.name }]}</h3>
				  </div><!-- /panel-heading -->
				  <div class="panel-body">
				  	<div class="photo-wrapper">
							<img class="photo" ng-src="/static/uploaded_images/{[{ photo.file_name + photo.file_ext }]}" alt="">
							<div class="photo-menu-wrapper">
								<p class="photo-menu">
									<a class="liked"><i class="fa fa-thumbs-o-up"></i></a>
									<a href="http://twitter.com" target="_blank"><i class="fa fa-twitter"></i></a>
									<a ng-click="delete_photo(photo.photo_id)"><i class="fa fa-trash"></i></a>
								</p>
							</div> <!-- /photo-menu-wrapper -->
						</div> <!-- /photo-wrapper -->
						<p class="photo-caption">{[{ photo.description }]}</p>
				  </div> <!-- /panel-body -->
				</div> <!-- /panel-primary -->
			</div> <!-- /photo-container -->
		</div> <!-- /row -->
	</span>
</div> <!-- /ng-controller -->
</div>

{% endblock body %}